FROM alpine:latest

# base stuff for claude code
RUN apk add --no-cache curl bash jq libstdc++ libgcc

# all other packages I want inside the containers
RUN apk add --no-cache rust cargo git jujutsu ripgrep nushell nodejs

RUN adduser -D claude

USER claude
WORKDIR /home/claude

RUN curl -fsSL https://claude.ai/install.sh | bash

ENV PATH="/home/claude/.local/bin:${PATH}"

ENTRYPOINT ["claude"]
